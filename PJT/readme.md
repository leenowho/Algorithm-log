# AI 기반 도서 분석 및 창작 지원 커뮤니티 서비스(25.05.22~25.05.27)

## 실행 방법
- 필요한 환경정보:
  - .env 형태
> ```
> OPENAI_API_KEY = 'YOUR_OPENAI_API_KEY'
> YOUTUBE_API_KEY = 'YOUR_YOUTUBE_API_KEY'
> ```
- DB는 PJT-09-BE 파일에 이미 존재 → loaddata 불필요
- 가상환경 설치:
  - BE: `pip install -r requirements.txt`
  - FE: `npm install`

## 팀원 정보 및 업무 분담 내역

---

## 🧠 사용 기술 및 주요 원리 요약
<details>
<summary>🌱 프론트엔드</summary>

| 기술 | 활용 위치 | 핵심 원리 및 설명 |
|------|------------|------------------|
| **Vue 3 + Composition API** | 프론트엔드 전체 | SPA 방식으로 컴포넌트 단위 구성 및 반응형 처리 |
| **Pinia** | 상태 관리 | 전역 상태 저장소 구성으로 사용자/쓰레드/도서 상태 추적 |
| **Axios** | API 통신 | Django REST API와 연동, 인증 포함 요청 전송 |
| **토큰 기반 인증** | 로그인/회원관리 | 세션 대신 서버가 토큰을 발급하고, 클라이언트는 이를 저장 후 HTTP 요청 시 함께 전송하여 인증을 수행하는 방식 |
---
</details>

<details>
<summary>🌐 백엔드</summary>

| 기술 | 활용 위치 | 핵심 원리 및 설명
| -------------- | ------ | ---------------------|
| **Django REST Framework** | 백엔드 API | RESTful 설계 기반의 API 개발, FBV 방식 사용 |
| **OpenAI GPT-4-mini** | 오탈자 교정 / 감정 요약 | 자연어 문장을 분석하여 교정 및 감정 추론 수행 (Chat API 기반) |
| **OpenAI Embedding API** | 도서 추천 | Book.description을 벡터화 → cosine similarity 기반 유사도 계산 |
| **DALL·E** | 이미지 생성 | 쓰레드 제목/내용 기반 커버 이미지 생성 (text-to-image, 비동기 처리) |
| **Google Maps iframe** | 위치 기반 도서관 안내 | 사용자 위치를 geolocation으로 확인 → iframe으로 지도 삽입 |
| **YouTube iframe** | 도서 관련 영상 표시 | 백엔드에서 videoId 추출 → 프론트에서 자동 임베딩 |
</details>

### 박민우 (초기 백엔드 -> 프론트엔드 전환)

<details>
<summary>상세내용</summary>

* 프로젝트 초반 Django 기반 백엔드 모델링 및 ERD 설계 ,쓰레드 AI 이미지 생성 API 구현 후후 프론트엔드 개발에 집중
* Vue 3 (Composition API) + Pinia + Axios 기반으로 프론트엔드 전체 구조 구현
* 로그인/회원가입, 도서 목록(Home), 도서 상세(BookDetail), 쓰레드 관련 페이지(ThreadList, ThreadDetail, ThreadWrite) 개발
* TokenAuthentication 인증 기반 로그인 처리 및 전역 가드 구성, 사용자 프로필 수정 기능 구현
#### 📘 Book 기능
- 도서 목록 및 상세 페이지 구현 (`Home`, `BookDetail`)
- 도서 찜(좋아요) 기능 구현 및 찜 목록 조회 UI 구성
- 도서 페이지네이션 기능 구현
- 관심 분야 선택 UI 구성 및 추천 도서 기반 기능 준비

#### 🧵 Thread 기능
- Thread 생성, 전체 조회, 상세 조회, 수정 기능 구현
- 감정 분석 결과 팝업 시각화 (GPT 기반)
- DALL·E 이미지 비동기 렌더링 처리
- Thread 좋아요 토글 및 좋아요한 Thread 목록 조회 기능 구현
- 댓글 삭제 시 확인 모달 적용
- Thread 슬라이딩 캐러셀 UI 구현
- Thread 업데이트 기능 구현
- Thread 로딩 처리 및 사용자 경험 향상 위한 UI 개선

#### 👤 User 기능
- 로그인 / 회원가입 UI 및 인증 흐름 구성 (Token 기반)
- Axios 전역 커스터마이징 (BASE_URL 설정, 토큰 삽입 및 삭제)
- 사용자 프로필 수정 기능 구현 및 마이페이지 연동
- 전역 라우터 가드 설정 및 인증 상태 제어

#### 🛠 공통 / 기타
- Vue 3 (Composition API) + Pinia 기반 프론트 구조 설계
- Axios 인스턴스 커스터마이징
- 로딩 팝업 처리 (`loading.gif` + 반투명 오버레이)
- 공통 컴포넌트 분할 및 index 정리
- 전역 컴포넌트 네이밍 통일성 정비
- 메인 페이지 슬라이딩 배너 구현 및 반응형 대응
</details>

---

### 이재호 (초기 프론트 → 백엔드 전환 ->프론트 남은작업)

<details>
<summary>상세내용</summary>

* 프로젝트 초반 Vue 구조 account 구현 후후, 이후 Django 백엔드 개발에 집중
* 댓글 기능 CRD(생성, 조회, 삭제) 구현 및 작성자 권한 분기 처리 (403 반환)
* Thread 좋아요 토글 기능 구현 및 좋아요 수 반환 기능 추가
* 도서 추천 알고리즘:

  * 각 도서의 description을 OpenAI `text-embedding-ada-002`로 벡터화
  * cosine similarity 기반 유사도 계산을 통해 추천 도서 제공 API 구현
* 감정 분석 기능:

  * GPT-4-mini 기반 감정 요약 기능 개발
  * Thread 감정 결과를 DB에 저장하도록 필드 추가 및 연동 처리
* 캘린더 기능:

  * 날짜별 Thread 개수 집계 API 구현
  * 특정 날짜의 Thread 목록 조회 API 구현
* 기타 AI/시스템 기능:

  * 쓰레드 오탈자 자동 교정 API(OpenAI) 구현
  * Thread 이미지 덮어쓰기 처리 및 이미지 생성 실패 시 예외 처리 고민
  * 챗봇 대화 저장용 User 모델 JSONField 추가 및 요청/응답 통합 로직 구현
  * embedding vector를 `.pkl` 파일로 추출하여 추천 기능 최적화
  * 모든 기능은 Postman을 통해 상태 코드 및 응답 확인 테스트 완료

  * BookDetailView 확장 기능 구현
  * Google Maps iframe으로 사용자 위치 기반 도서관 표시
  * YouTube videoId 기반 자동 임베딩 기능 구현
  * 좋아요 버튼 기능 UI 연동 및 Pinia store 연계 완료
</details>

---

## 목표 서비스 구현 및 실제 구현 정도

* 도서 기반의 추천 커뮤니티 서비스를 목표로 하였으며, 주요 기능은 다음과 같습니다.

  * 도서 목록 조회 및 상세 정보 보기
  * Thread 및 댓글 기능 (작성, 조회, 삭제)
  * 생성형 AI를 활용한 글 작성 지원 및 이미지 생성
  * 사용자 인증토큰큰 기반 로그인, 회원가입, 프로필 수정
* 목표했던 기능은 대부분 구현 완료되었고, 좋아요 및 댓글 기능 추가가 반영되어 커뮤니티 기능이 강화되었습니다.

## 데이터베이스 모델링 (ERD)

본 프로젝트의 데이터베이스는 도서(Book) 기반 커뮤니티 서비스를 중심으로 다음과 같은 관계형 구조를 갖는다.

* **User**
  Django 기본 유저 모델 확장 없이 사용. Thread, Comment의 작성자 역할을 담당하며, 좋아요 및 찜 기능을 통해 도서 및 쓰레드와 다대다(M\:N) 관계를 맺는다.

* **Book**
  도서 정보를 저장하는 핵심 테이블로, 알라딘 API 기반 데이터 또는 fixture로 초기 데이터 생성.
  관련 필드: title, author, description, pub\_date, isbn, cover\_url, recommend\_ids 등

  * `recommend_ids`: OpenAI Embedding 기반 유사도 추천 결과 저장

* **Thread**
  사용자가 특정 도서에 대해 작성한 후기나 리뷰를 저장하는 테이블.
  관련 필드: user(FK), book(FK), title, content, reading\_date, cover\_img, emotion\_summary

  * 좋아요 기능을 위해 User와 M\:N 관계 (like\_users)

* **Comment**
  특정 쓰레드에 대한 사용자 댓글을 저장
  관련 필드: user(FK), thread(FK), content, created\_at

* **Category**
  도서를 분류하기 위한 테이블. 각 Book은 하나의 Category에 속함
  관련 필드: name

  * Book과는 N:1 관계

* **추가 관계**

  * `wishlist_users`: User와 Book 간 찜하기 기능을 위한 M\:N 관계
  * `like_users`: User와 Thread 간 좋아요 기능을 위한 M\:N 관계
---
## 도서 추천 알고리즘에 대한 기술적 설명

본 프로젝트의 도서 추천 기능은 \*\*책 설명(description)\*\*을 기반으로 의미적으로 유사한 책을 추천하는 문서 임베딩 기반 추천 알고리즘입니다.

* 각 도서의 description 텍스트를 OpenAI의 `text-embedding-ada-002` 모델을 통해 1536차원 벡터로 변환합니다.
* 기준 도서의 벡터와 다른 모든 도서의 벡터 간 코사인 유사도(Cosine Similarity)를 계산합니다.
* 유사도 값이 높은 순으로 정렬하여 상위 N권의 도서를 추천 결과로 제공합니다.
* 이 방식은 단순 키워드 일치가 아니라 문장의 의미적 유사성을 반영한 추천이 가능하여 사용자에게 더 직관적이고 정교한 추천 결과를 제공합니다.

**추천 예시**

| 기준 도서   | 추천 결과 예시                      |
| ------- | ----------------------------- |
| 감정의 기술  | 마음의 치유, 관계의 본질 등 (심리 관련)      |
| 토익 입문서  | 스타트 토익 RC, 기초 문법 완성 등 (학습 관련) |
| 경제금융 개론 | 주식의 정석, 부의 인문학 등 (경제 관련)      |

**요약**

* 기준 데이터: `Book.description` 필드
* 벡터화 모델: `text-embedding-ada-002` (OpenAI)
* 비교 방식: `cosine_similarity(a, b)`
* 추천 기준: 코사인 유사도가 높은 순

## 핵심 기능에 대한 설명

* **도서 기능**

  * 외부 API(알라딘)를 활용하여 도서 목록 불러오기
  * 상세 페이지에서 도서 설명, 저자, 추천 도서 등 정보 표시

* **Thread 기능**

  * 전체 목록 조회, 쓰기, 삭제 가능
  * 작성 시 GPT를 통한 오탈자 검수 기능 제공
  * 등록 완료 후 DALL·E 기반 이미지 생성 및 자동 반영
  * 감정 분석 결과 표시 및 Thread 내부에 저장

* **댓글 기능**

  * Thread 상세 페이지에서 댓글 작성 및 삭제 가능
  * 작성자 권한 확인 및 권한 없음 시 403 반환

* **사용자 기능**

  * 토큰 인증 기반 로그인, 회원가입, 프로필 수정
  * 마이페이지에서 내가 작성한 쓰레드 및 댓글 확인 가능
  * 찜한 도서 목록 조회 기능 준비 중

* **캘린더 기능**

  * 날짜별 Thread 개수 집계 및 특정 날짜 Thread 목록 조회 API 제공

## 생성형 AI를 활용한 부분

- **GPT-4-mini (Chat API 기반)**
  -  Thread 작성 시 오탈자 및 문장 어색함 자동 교정 API 제공 (`/threads/spell-check/`)
  -  Thread 작성 후 감정 요약 분석 기능 제공 → 결과는 DB 필드(emotion_summary)에 저장
  -  사용자 챗봇 기능 기초 설계: User 모델에 JSONField를 추가하여 AI와 주고받은 대화를 누적 저장할 수 있도록 구조 설계 및 구현

- **DALL·E**
  -  Thread 작성 완료 후, 제목+내용 기반으로 표지 이미지 생성
  -  비동기 처리로 사용자 흐름을 방해하지 않도록 백그라운드 처리
  -  기존 이미지가 존재할 경우 덮어쓰기 처리 로직 구현 (파일 경로 고정)

- **OpenAI Embedding (text-embedding-ada-002)**
  -  Book.description 필드를 벡터화(1536차원)하여 `.pkl`로 저장
  -  cosine similarity 기반 추천 알고리즘 설계 및 API 구현
  -  의미 유사성 기반의 정교한 도서 추천 기능 제공

## 기타 (느낀점, 후기 등)

* 프론트엔드와 백엔드를 모두 경험하며 전체 시스템 흐름을 이해할 수 있었고, 생성형 AI를 실서비스에 녹여내는 경험이 인상 깊었다.
* 단순 CRUD를 넘어서 사용자 경험(UX)을 고려한 로딩 처리, 에러 분기, 권한 제어 등 실제 서비스에 가까운 구현을 목표로 했다.
* 2인 1조 협업 과정에서 역할 분담과 API 설계 커뮤니케이션의 중요성을 체감했다.

### 박민우
- 지난 8번의 관통 프로젝트를 통해 많은 성장을 이루어 낼 수 있었고, 배운 내용 + α를 최종 관통에서 적용할 수 있었다고 생각합니다.
  - 07~08-pjt에서 git branch에 대해 학습하고 경험해 볼 수 있었던 시간이 있었습니다.
  - 덕분에 **이번 협업에서 git flow 전략을 수립하고 실행하는 데 잡음 없이 이루어 낼 수 있었다고 생각합니다.**
- 처음에는 **BE 개발**로 시작했는데 **FE 개발**에 많은 역량이 투입되야 함을 느꼈습니다.
  - FE에서는 사용자가 어떤 행동을 할 지 예측하고, 사전에 잘못된 행위를 차단하는 기능(조건문, Navigation Guard 등등)을 적용하는 데 많은 역량이 필요했습니다.
  - 처음 컴포넌트 설계 및 데이터 관리에 대한 계획이 수립되어 있지 않았습니다.
    - 결과적으로 어떤 데이터는 store에 저장, 어떤 데이터는 Component에 저장되는 기괴한 형태로 진화(?)하는 과정을 보면서 데이터 관리에 많은 심혈을 기울여야 한다고 학습할 수 있는 좋은 기회였습니다.
  - 그래서 과감히 둘째날부터 **역할을 바꾸었습니다.** 최종적으로 해당 결정이 좋은 결정이었다고 생각합니다.
- 바이브 코딩에 대해 경험할 수 있는 기회였습니다.
  - 결과적으로 좋은 방향은 아니지만, GPT와 코드리뷰, CSS 수정과정을 보면서 문제 해결을 위한 접근법을 알았습니다.
  - 반응형 웹 + Carousel 구현을 위해 심화적인 CSS 속성에 대해서도 학습할 수 있었습니다.
- 오늘 발표하는 팀들의 전략과 기획 의도를 보면서 본받아야 할 점, 주의할 점들, 참고하면 좋을 점들을 확인할 수 있는 좋은 기회였습니다.
  - 특히 페르소나를 적용하고 실제 사용자를 유치할 수 있는 서비스 철학을 가지는 부분은 본받아야 할 점이었습니다.
  - 앞으로 프로젝트들을 진행할 때 많은 참고를 할 수 있게 되었습니다.
- 지금까지 한 학기동안 저희와 함께 해주신 <span style="background-color: #fff5b1; color: black">**김도영 강사님**</span> 께 감사드립니다.

### 이재호

- 혼자였다면 막막했을 기능들도, 팀원과 함께 구조를 고민하고 API를 맞춰가며 구현하면서 협업의 힘을 제대로 느꼈습니다.
- Vue와 Django의 연동,token 인증 흐름, OpenAI API 활용 등 처음 접하는 개념도 많았지만, 한 단계씩 차근차근 구현하면서 “배운 만큼 기능이 쌓인다”는 성취를 경험했습니다.
- 기술뿐 아니라, 소통과 기록, 책임 분담의 중요성도 함께 배울 수 있었던 값진 프로젝트였습니다.


## 배포 서버 URL

* 현재는 로컬 환경에서 개발 및 테스트 진행
* 향후 Netlify (프론트), Render 또는 Railway (백엔드)를 활용한 배포 계획이 있음
* 추가적인 Refactoring과 서비스 방향을 확실히 수립한 후 진행해보고 싶음

## 기타 자유 작성

## 🎮 게임 QA 직무 연계 경험 요약

본 프로젝트를 수행하며 단순한 프론트/백엔드 개발을 넘어, **기능 검증, 예외 처리, 시나리오 테스트**를 반복 수행하였고, 이는 제가 지향하는 **게임 QA 직무**와의 연관성을 명확히 체감한 경험이었습니다.

| 구분 | 경험 내용 |
|------|-----------|
| **문제 재현력** | 쓰레드/댓글/좋아요 기능 개발 중 발생한 CORS 오류, 403 권한 문제 등을 **Postman, Axios, Django 터미널 등 다양한 환경에서 재현**하고 원인 분석 |
| **도구 사용 능력** | API 완성 후 **Postman을 통한 각 HTTP 요청 테스트** 진행, 브라우저 **Network 탭으로 Axios 요청 흐름 확인**, Django 서버 로그를 함께 분석하여 **문제 위치 정확히 파악** |
| **상태 관리** | `Pinia`의 상태 저장소(`user.js`, `thread.js`, `book.js`)를 통해 **인증 상태, 좋아요 상태 등의 변화 흐름을 추적**하고, 상태 불일치로 인한 UI 버그를 직접 수정 |
| **에러 처리 경험** | 쓰레드/댓글 수정/삭제 등에서 발생할 수 있는 **403(권한 없음), 401(비인증), 404(데이터 없음), 500(서버 에러)**에 대해 각각 **UI 상 Alert, Modal, fallback 메시지 처리** 구현 |
| **유닛 테스트 도입 탐색** | 비동기 통신 구조가 복잡해짐에 따라 **Cypress 기반 E2E 테스트 구조와 Django의 `TestCase` 기반 단위 테스트 흐름을 조사**, 자동화된 검증 루틴의 필요성을 인지함 |
* [프로젝트 관리 노션](https://www.notion.so/1faa4f70a9df8095bdeafa175adb6f34?pvs=4)
